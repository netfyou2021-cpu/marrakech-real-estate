<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atlas Real Estate — Admin Panel</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet" />
  <style>
    main{max-width:1100px;margin:1.2rem auto;padding:1rem}
    .admin-sections{display:grid;grid-template-columns:1fr 380px;gap:1rem}
    .panel{background:#fff;padding:1rem;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
    .listing-row{display:flex;gap:0.6rem;align-items:center;border-bottom:1px solid #f0f0f0;padding:0.6rem 0}
    .listing-row img{width:80px;height:56px;object-fit:cover;border-radius:6px}
    .listing-actions button{margin-left:0.4rem}
    label{display:block;font-size:0.9rem;margin-top:0.5rem}
    input[type="text"], input[type="number"], textarea{width:100%;padding:0.5rem;border-radius:6px;border:1px solid #eee}
    button{padding:0.5rem 1rem;background:var(--accent,#c14b1a);color:#fff;border:none;border-radius:6px;cursor:pointer}
    button:hover{opacity:0.9}
  </style>
</head>
<body>
  <header>
    <nav>
      <div class="logo">Atlas Real Estate - Admin</div>
      <ul>
        <li><a href="/">View Site</a></li>
        <li><a href="#listings">Manage Listings</a></li>
        <li><a href="#i18n">Translations</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h1>Admin Console</h1>
    <p>Manage listings and translations. Admin token: <code>fdd753f7608c53fbf04ef8e07282bc47</code></p>

    <div class="admin-sections">
      <section class="panel">
        <h2>Listings</h2>
        <div id="listings-root"></div>
        <button id="reload-listings">Reload</button>
      </section>

      <aside class="panel">
        <h3>Create / Edit Listing</h3>
        <form id="listing-form">
          <input type="hidden" id="listing-id">
          <label>Title <input id="listing-title" type="text" required></label>
          <label>Type <input id="listing-type" type="text" placeholder="apartment / villa / house / riad / land / garage" required></label>
          <label>Action <input id="listing-action" type="text" placeholder="rent / buy" required></label>
          <label>Price (Dhrs) <input id="listing-price" type="number" required></label>
          <label>Price Text <input id="listing-priceText" type="text" placeholder="e.g., 8,500 Dhrs/month"></label>
          <label>Location <input id="listing-location" type="text" placeholder="Gueliz, Medina, etc." required></label>
          <label>Rooms <input id="listing-rooms" type="number" min="0"></label>
          <label>Bathrooms <input id="listing-bathrooms" type="number" min="0"></label>
          <label>Surface (m²) <input id="listing-surface" type="number" min="0"></label>
          <label>Images (comma-separated URLs) <textarea id="listing-images" rows="2" placeholder="https://images.unsplash.com/..., https://..."></textarea></label>
          <label>Description <textarea id="listing-description" rows="4"></textarea></label>
          <div style="margin-top:.8rem;display:flex;gap:0.5rem">
            <button id="save-listing" type="button">Save</button>
            <button id="delete-listing" type="button" style="background:#dc3545">Delete</button>
            <button id="clear-form" type="button" style="background:#6c757d">Clear</button>
          </div>
          <div id="listing-status" style="margin-top:.5rem;color:#333"></div>
        </form>
      </aside>
    </div>

    <section class="panel" style="margin-top:1rem">
      <h2>i18n Editor (Translations)</h2>
      <p style="font-size:0.9rem;color:#666">Edit translations for English, French, and Arabic</p>
      <textarea id="i18n-editor" style="width:100%;height:260px;font-family:monospace;font-size:0.85rem"></textarea>
      <div style="margin-top:.5rem;display:flex;gap:0.5rem;align-items:center">
        <input id="admin-token" type="text" placeholder="Admin token" style="flex:1" />
        <button id="load-i18n">Load</button>
        <button id="save-i18n">Save</button>
      </div>
      <pre id="i18n-status" style="margin-top:.5rem;color:#333;font-size:0.9rem"></pre>
    </section>
  </main>

  <script src="admin.js"></script>
</body>
</html>
