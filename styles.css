/* ... (rest of the file remains the same until the filters section) */
:root{
	--bg:#fffaf0; --accent:#c14b1a; --accent-2:#d2691e; --muted:#6b4a32; --card:#fff;
	--radius:10px; --max-width:1200px; font-family: 'Roboto', system-ui, sans-serif;
}
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(180deg,#fffaf0 0%, #fff 100%);color:var(--muted);font-family:var(--font-family, Roboto),sans-serif}
header{background:rgba(193,75,26,0.06);padding:0.6rem 1rem;border-bottom:1px solid rgba(0,0,0,0.04)}
nav{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;gap:1rem}
.logo{font-weight:700;color:var(--accent);font-size:1.4rem;letter-spacing:0.5px}
nav ul{list-style:none;margin:0;padding:0;display:flex;gap:1rem;flex:1}
nav a{color:var(--muted);text-decoration:none}
.hero{padding:5rem 1rem;min-height:60vh;background-size:cover;background-position:center;color:#fff;position:relative;overflow:hidden;display:flex;align-items:center;animation:slideshow 30s ease-in-out infinite}
@keyframes slideshow{0%,33%{background-image:url('hero-marrakech.jpg');background-size:105%;background-position:center}34%,66%{background-image:url('hero-2.jpg');background-size:105%;background-position:center}67%,100%{background-image:url('hero-3.jpg');background-size:105%;background-position:center}}
.hero::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(0,0,0,0.5) 0%,rgba(0,0,0,0.7) 100%);z-index:1;animation:fadeOverlay 30s ease-in-out infinite}
@keyframes fadeOverlay{0%,33%{opacity:0.85}34%,66%{opacity:0.75}67%,100%{opacity:0.8}}
.hero>*{position:relative;z-index:2}
.hero .hero-inner{max-width:var(--max-width);margin:0 auto;background:rgba(0,0,0,0.25);backdrop-filter:blur(10px);padding:3rem 2.5rem;border-radius:12px;border:1px solid rgba(255,255,255,0.1);box-shadow:0 20px 60px rgba(0,0,0,0.4);animation:heroFadeIn 1.5s ease-out}
@keyframes heroFadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
.hero h1{margin:0;font-size:4rem;font-weight:700;text-shadow:3px 3px 12px rgba(0,0,0,0.9);line-height:1.2;letter-spacing:-1px}
.hero p{font-size:1.5rem;margin-top:1.5rem;text-shadow:2px 2px 8px rgba(0,0,0,0.9);opacity:0.95;font-weight:300}
.search-bar-section{display:flex;gap:0.75rem;margin-bottom:1rem;padding:1.5rem;background:#fff;border-bottom:1px solid #e8e8e8;box-shadow:0 2px 8px rgba(0,0,0,0.04)}
.search-bar-input{flex:1;padding:0.85rem 1.2rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;color:#333;transition:all 0.3s;background:#fafafa}
.search-bar-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(193,75,26,0.12);background:#fff;transform:translateY(-1px)}
.search-bar-input::placeholder{color:#999;font-weight:300}
.search-btn{background:linear-gradient(135deg,var(--accent) 0%,var(--accent-2) 100%);border:none;color:#fff;padding:0.85rem 2rem;border-radius:8px;cursor:pointer;font-size:1rem;font-weight:600;transition:all 0.3s;box-shadow:0 4px 12px rgba(193,75,26,0.25);text-transform:uppercase;letter-spacing:0.5px}
.search-btn:hover{box-shadow:0 6px 20px rgba(193,75,26,0.35);transform:translateY(-2px)}
.search-btn:active{transform:translateY(0);box-shadow:0 2px 8px rgba(193,75,26,0.2)}
.container{max-width:var(--max-width);margin:1.2rem auto;padding:0 1rem}
.filters{display:flex;gap:0.75rem;padding:1rem;background:#fff;border-bottom:1px solid #e8e8e8;margin-bottom:1rem;flex-wrap:wrap;align-items:center}
.filter-dropdown{padding:0.6rem 2.5rem 0.6rem 1rem;border:1px solid #d0d0d0;border-radius:6px;background:#fff url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8"><path fill="%23666" d="M1.41 0L6 4.58 10.59 0 12 1.41l-6 6-6-6z"/></svg>') no-repeat right 0.75rem center;background-size:12px;appearance:none;cursor:pointer;font-size:0.95rem;color:#333;font-weight:400}
.filter-dropdown:hover{border-color:#999}
.filter-dropdown:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(193,75,26,0.1)}
.filter-action-highlight{border:2px solid var(--accent);font-weight:500;background-color:#fff8f0}
.view-toggle{display:flex;gap:0.5rem;justify-content:space-between;margin-bottom:0.5rem;align-items:center}
.view-toggle .view-buttons{display:flex;gap:0.5rem}
.view-toggle button{padding:0.5rem 1rem;border-radius:6px;border:1px solid #ddd;background:#fff;cursor:pointer;font-size:0.9rem;transition:all 0.2s}
.view-toggle button:hover{border-color:var(--accent);background:#fff8f0}
.view-toggle button.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.collapse-all-btn{background:#f5f5f5;border:1px solid #ddd;color:#666;padding:0.5rem 1rem;border-radius:6px;cursor:pointer;font-size:0.9rem;transition:all 0.2s}
.collapse-all-btn:hover{background:#e8e8e8;border-color:#999}
.property-card.collapsed{max-height:60px;overflow:hidden;position:relative}
.property-card.collapsed::after{content:'';position:absolute;bottom:0;left:0;right:0;height:30px;background:linear-gradient(transparent,rgba(255,255,255,0.95));pointer-events:none}
.property-card.collapsed .content{padding:0.8rem;max-height:40px}
.property-card.collapsed img{height:0;padding:0;margin:0;opacity:0}
.property-card.collapsed .excerpt,.property-card.collapsed .actions,.property-card.collapsed .meta{display:none}
.property-container{display:grid;grid-template-columns:1fr 360px;gap:1.5rem}
.property-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:1.5rem}
.property-card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.08);display:flex;flex-direction:column;transition:all 0.3s;cursor:pointer;position:relative}
.property-card:hover{transform:translateY(-4px);box-shadow:0 8px 30px rgba(0,0,0,0.12)}
.property-card .image-wrapper{position:relative;overflow:hidden;height:240px}
.property-card img{width:100%;height:100%;object-fit:cover;transition:transform 0.4s}
.property-card:hover img{transform:scale(1.05)}
.property-card .price-badge{position:absolute;top:12px;left:12px;background:rgba(255,255,255,0.95);color:#c14b1a;padding:0.5rem 0.9rem;border-radius:6px;font-size:0.95rem;font-weight:700;backdrop-filter:blur(10px);box-shadow:0 2px 8px rgba(0,0,0,0.2)}
.property-card .type-badge{position:absolute;top:12px;right:12px;background:rgba(255,255,255,0.95);padding:0.4rem 0.8rem;border-radius:20px;font-size:0.75rem;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;color:var(--accent);backdrop-filter:blur(10px)}
.property-card .location-badge{position:absolute;bottom:12px;left:12px;background:rgba(0,0,0,0.75);color:#fff;padding:0.4rem 0.8rem;border-radius:6px;font-size:0.85rem;backdrop-filter:blur(10px);display:flex;align-items:center;gap:0.3rem}
.property-card .content{padding:1.25rem}
.property-card h3{margin:0 0 0.5rem 0;font-size:1.25rem;font-weight:600;color:#2a2a2a;line-height:1.3}
.property-card .meta{color:#666;font-size:0.85rem;margin-bottom:0.75rem;display:flex;gap:0.5rem;flex-wrap:wrap;align-items:center}
.property-card .meta-item{display:flex;align-items:center;gap:0.35rem;padding:0.3rem 0.6rem;background:#f5f5f5;border-radius:4px;font-size:0.85rem}
.property-card .excerpt{font-size:0.95rem;color:#666;line-height:1.6;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.property-card .rating{position:absolute;top:12px;left:12px;background:rgba(255,255,255,0.95);padding:0.3rem 0.6rem;border-radius:20px;font-size:0.8rem;font-weight:600;display:flex;align-items:center;gap:0.3rem;backdrop-filter:blur(10px)}
.property-card.list{flex-direction:row;max-width:100%}
.property-card.list .image-wrapper{width:400px;height:auto;min-height:280px}
.property-card.list img{width:100%;height:100%}
.property-card .actions{margin-top:1rem;display:none}
.property-card .actions button{background:var(--accent);color:#fff;border:none;padding:0.65rem 1.25rem;border-radius:8px;cursor:pointer;font-weight:600;font-size:0.95rem;transition:all 0.2s;width:100%}
.property-card .actions button:hover{background:var(--accent-2);transform:translateY(-1px)}
.property-card .location{display:none}
.map{background:#fff;padding:0.5rem;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
footer{background:#1a1a1a;color:#ccc;padding:3rem 1rem 1rem}
.footer-content{max-width:var(--max-width);margin:0 auto;display:grid;grid-template-columns:2fr 1fr 1fr;gap:3rem;padding-bottom:2rem;border-bottom:1px solid #333}
.footer-brand{}
.footer-logo{font-size:1.5rem;font-weight:700;color:#c14b1a;margin-bottom:1rem}
.footer-tagline{color:#999;line-height:1.6;max-width:400px}
.footer-section h4{color:#c14b1a;font-size:0.9rem;font-weight:600;margin-bottom:1rem;letter-spacing:1px}
.footer-section ul{list-style:none;padding:0;margin:0}
.footer-section ul li{margin-bottom:0.6rem}
.footer-section a{color:#ccc;text-decoration:none;transition:color 0.2s}
.footer-section a:hover{color:#c14b1a}
.contact-info li{line-height:1.8;color:#999}
.social-icons{display:flex;gap:1rem;margin-top:1.5rem}
.social-icon{display:inline-flex;width:40px;height:40px;align-items:center;justify-content:center;background:#2a2a2a;border-radius:50%;transition:all 0.3s}
.social-icon svg{width:20px;height:20px;fill:#ccc}
.social-icon:hover{transform:translateY(-3px)}
.social-icon.whatsapp:hover{background:#25D366}
.social-icon.instagram:hover{background:linear-gradient(45deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)}
.social-icon.facebook:hover{background:#1877f2}
.social-icon:hover svg{fill:#fff}
.footer-bottom{max-width:var(--max-width);margin:0 auto;padding-top:2rem;text-align:center;color:#666;font-size:0.9rem}
@media (max-width:900px){.footer-content{grid-template-columns:1fr;gap:2rem}}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);opacity:0;pointer-events:none;transition:opacity 300ms;z-index:1000;backdrop-filter:blur(4px)}
.modal.open{opacity:1;pointer-events:auto}
.modal-content{background:#fff;border-radius:16px;max-width:1000px;max-height:90vh;overflow:hidden;position:relative;box-shadow:0 20px 60px rgba(0,0,0,0.3);display:grid;grid-template-columns:1fr 1fr}
.modal-close{position:absolute;right:16px;top:16px;border:none;background:rgba(255,255,255,0.9);width:36px;height:36px;border-radius:50%;font-size:1.5rem;cursor:pointer;z-index:10;display:flex;align-items:center;justify-content:center;transition:all 0.2s;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.modal-close:hover{background:#fff;transform:scale(1.1)}
.modal-image{width:100%;height:100%;object-fit:cover}
.modal-details{padding:2rem;overflow-y:auto;max-height:90vh}
.modal-location{color:#c14b1a;font-size:0.85rem;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:0.5rem;display:flex;align-items:center;gap:0.3rem}
.modal-title{font-size:2rem;font-weight:700;color:#2a2a2a;margin:0 0 1rem 0;line-height:1.2}
.modal-price{font-size:1.5rem;font-weight:700;color:#c14b1a;margin-bottom:1.5rem}
.modal-stats{display:flex;gap:1rem;margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid #eee}
.modal-stat{display:flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;background:#f8f8f8;border-radius:6px;font-size:0.95rem}
.modal-section-title{font-size:1.1rem;font-weight:600;color:#2a2a2a;margin:1.5rem 0 1rem 0;display:flex;align-items:center;gap:0.5rem}
.modal-description{line-height:1.7;color:#666;margin-bottom:1.5rem}
.modal-amenities{display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1.5rem}
.amenity-tag{padding:0.4rem 0.8rem;background:#f0f0f0;border-radius:20px;font-size:0.85rem;color:#555}
.modal-actions{display:flex;gap:1rem;margin-top:2rem;position:sticky;bottom:0;background:#fff;padding:1rem 0;border-top:1px solid #eee}
.btn-primary{flex:1;background:#2a2a2a;color:#fff;border:none;padding:1rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s}
.btn-primary:hover{background:#1a1a1a;transform:translateY(-1px)}
.btn-secondary{padding:1rem;background:#f5f5f5;border:1px solid #ddd;border-radius:8px;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;justify-content:center}
.btn-secondary:hover{background:#e8e8e8;border-color:#999}
.contact-agent{background:#f9f9f9;padding:1.5rem;border-radius:8px;margin-top:1.5rem}
.contact-agent strong{display:block;margin-bottom:0.5rem;color:#2a2a2a}

@media (max-width:900px){.property-container{grid-template-columns:1fr}.property-card.list{flex-direction:column}.property-card.list .image-wrapper{width:100%}.modal-content{grid-template-columns:1fr;max-height:95vh}.modal-image{max-height:300px}.modal-details{padding:1.5rem}}
